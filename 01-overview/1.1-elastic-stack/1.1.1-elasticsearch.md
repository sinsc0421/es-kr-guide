---
description: >-
  이 문서의 허가되지 않은 무단 복제나 배포 및 출판을 금지합니다. 본 문서의 내용 포함된 자료를 인용하고자 하는 경우 출처를 명시하고
  김종민(kimjmin@gmail.com)에게 알려주시기 바랍니다.
coverY: 0
---

# 1.1.1 Elasticsearch

![Elastic Stack의 심장 - https://www.elastic.co/kr/products/elasticsearch](<../../.gitbook/assets/image (22).png>)

Elastic 홈페이지에서는 Elasticsearch를 <mark style="background-color:yellow;">**Elastic Stack의 심장이라고 소개하고 있는 만큼 Elasticsearch는 전체 스택의 중심이며 가장 중요한 역할**</mark>을 하고 있습니다. 기본적으로 <mark style="background-color:yellow;">**모든 데이터를 색인하여 저장하고 검색, 집계**</mark> 등을 수행하며 _**결과를 클라이언트 또는 다른 프로그램으로 전달**_하여 동작하게 합니다.

Elasticsearch는 **뛰어난 검색 능력**과 **대규모 분산 시스템을 구축할 수 있는 다양한 기능들을 제공**하지만, _**설치 과정과 사용 방법**_은 _**비교적 쉽고 간편**_합니다. 기업에서 뿐만 아니라 학교, 개인을 위한 프로젝트에도 다양하게 사용이 가능합니다. 기존 관계 데이터베이스 <mark style="background-color:yellow;">**시스템에서는 다루기 어려운 전문검색(Full Text Search) 기능**</mark>과 <mark style="background-color:yellow;">**점수 기반의 다양한 정확도 알고리즘, 실시간 분석**</mark> 등의 구현이 가능합니다. 또한 다양한 플러그인들을 사용해 손쉽게 기능의 장이 가능하며 아마존 웹 서비스(AWS), 마이크로소프트 애저(MS Azure) 같은 클라우드 서비스 그리고 하둡(Hadoop) 플랫폼들과의 연동도 가능합니다.

기본적으로 Elasticsearch 는 다음과 같은 특징들을 가지고 있습니다.

### 1. 오픈소스 (open source)

Elasticsearch의 핵심 기능들은 <mark style="background-color:yellow;">**Apache 2.0 라이센스**</mark>로 배포되고 있고 Elastic Stack의 모든 제품들은 ([https://github.com/elastic](https://github.com/elastic)) <mark style="background-color:yellow;">**깃헙 리파지토리 에서 소스**</mark>들을 찾을 수 있습니다. 6.3 버전 부터는 Elastic 라이센스와 Apache 라이센스가 섞여 있지만 각각의 버전에 대해 별도 배포판이 존재하고 license 파일에서 어떤 경로의 파일들이 어떤 라이센스로 되어 있는지 확인이 가능합니다. 현재는 x-pack 디렉토리 아래 있는 파일들만이 Elastic 라이센스를 따르고 그 외의 파일들은 Apache 라이센스를 따릅니다.

<mark style="background-color:yellow;">**루씬이 자바로 만들어졌기 때문에 Elasticsearch도 마찬가지로 자바로 코딩**</mark>이 되어 있습니다. 루씬은 하둡을 개발한 더그 커팅(Doug Cutting)에 의해 처음 만들어졌지만 Elasticsearch 엔지니어들 중에는 루씬 커미터들이 다수 있어서 루씬을 매우 깊은 레벨에서 다루고 있고, Elastic 사의 루씬 커미터인 개발자들이 실제로 루씬 프로젝트의 절반 이상의 기능을 개발에 기여하고 있습니다. 이 사실은 Elastic사가 가장 자랑스럽게 여기는 사실입니다.

### 2. 실시간 분석 (real-time)

Elasticsearch의 가장 큰 특징 중 하나는 <mark style="background-color:yellow;">**실시간(real-time) 분석 시스템**</mark> 입니다. 현재 대용량 데이터 분석에 가장 널리 사용되고 있는 것은 하둡(Hadoop) 플랫폼 위에서 실행되는 Pig, Hive와 같은 다양한 맵 리듀서(Map reducer) 들입니다. <mark style="background-color:yellow;">**하둡은 기본적으로 배치 기반의 분석 시스템**</mark>으로 분석에 사용될 소스 데이터, 분석을 수행 할 프로그램을 올려 놓고 분석을 실행하여 결과 셋이 나오도록 하는 하나의 루틴으로 실행됩니다.

Elasticsearch는 하둡 시스템과 달리 <mark style="background-color:yellow;">**Elasticsearch 클러스터가 실행되고 있는 동안에는 계속해서 데이터가 입력 (검색엔진에서는 색인 – indexing 이라고 표현합니다) 되고, 그와 동시에 실시간에 가까운 (near real-time) 속도로 색인된 데이터의 검색, 집계가 가능**</mark>합니다.

### 3. 전문(full text) 검색 엔진

루씬은 기본적으로 <mark style="background-color:yellow;">**역파일 색인(inverted file index)라는 구조**</mark>로 데이터를 저장합니다. 루씬을 사용하고 있는 Elasticsearch도 마찬가지로 색인된 모든 데이터를 역파일 색인 구조로 저장하여 <mark style="background-color:yellow;">**가공된 텍스트를 검색**</mark>합니다. 이런 특성을 전문(full text) 검색이라고 합니다.

<mark style="background-color:yellow;">**JSON 문서 기반**</mark> Elasticsearch는 내부적으로는 역파일 색인 구조로 데이터를 저장하고 있으나, 사용자의 관점에서는 JSON 형식으로 데이터를 전달합니다. JSON형식은 간결하고 개발자들이 다루기 편한 구조로 되어 있어 색인 할 대상 문서를 가공 하거나 다른 클라이언트 프로그램과 연동하기에 용이합니다.

또한 key-value 형식이 아닌 문서 기반으로 되어 있기에 복합적인 정보를 포함하는 형식의 문서를 있는 그대로 저장이 가능하며 사용자가 직관적으로 이해하고 사용할 수 있습니다. Elasticsearch에서 질의에 사용되는 쿼리문이나 쿼리에 대한 결과도 모두 JSON 형식으로 전달되고 리턴됩니다.

다만 JSON이 Elasticsearch가 지원하는 유일한 형식이기 사전에 입력할 데이터를 JSON 형식으로 가공하는 것이 필요합니다. <mark style="background-color:yellow;">**CSV, Apache log, syslog등과 같이 널리 사용되는 형식들은 Logstash에서 변환을 지원**</mark>하고 있습니다.

### 4. RESTFul API

현재 대규모 시스템들은 대부분 **마이크로 서비스 아키텍처(MSA)를 기본**으로 설계됩니다. 이러한 구조에 빠질 수 없는 것이 **REST API**와 같은 표준 인터페이스 입니다. <mark style="background-color:yellow;">**Elasticsearch는 Rest API를 기본으로 지원하며 모든 데이터 조회, 입력, 삭제를 http 프로토콜을 통해 Rest API로 처리**</mark>합니다.

### 5. 멀티테넌시 (Multitenancy)

Elasticsearch의 데이터들은 인덱스(Index) 라는 논리적인 집합 단위로 구성되며 서로 다른 저장소에 분산되어 저장됩니다. 서로 다른 인덱스들을 별도의 커넥션 없이 하나의 질의로 묶어서 검색하고, 검색 결과들을 하나의 출력으로 도출할 수 있는데, Elasticsearch의 이러한 특징을 멀티테넌시 라고 합니다.

&#x20;멀티테넌시 : 소프트웨어 애플리케이션의 단일 인스턴스가 여러 고객에게 서비스를 제공하는 아키텍처다.

![Elasticsearch 의 옛 로고들](<../../.gitbook/assets/image (1).png>)
